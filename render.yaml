# 車行寶 CRM v5.2 - Render 部署配置
# 北斗七星文創數位 × 織明

services:
  - type: web
    name: cardeal-crm
    env: python
    region: singapore
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: python main.py
    healthCheckPath: /api/system/health
    envVars:
      # 基本設定
      - key: ENV
        value: production
      - key: DEBUG
        value: false
      - key: PORT
        value: 10000
      - key: DATA_DIR
        value: /opt/render/project/data
      
      # 安全金鑰（需在 Dashboard 設定）
      - key: SECRET_KEY
        generateValue: true
      
      # AI 服務（需在 Dashboard 設定）
      # - key: DEEPSEEK_API_KEY
      #   sync: false
      
      # LINE（需在 Dashboard 設定）
      # - key: LINE_CHANNEL_SECRET
      #   sync: false
      # - key: LINE_CHANNEL_ACCESS_TOKEN
      #   sync: false
      
      # Web Push（需在 Dashboard 設定）
      # - key: VAPID_PUBLIC_KEY
      #   sync: false
      # - key: VAPID_PRIVATE_KEY
      #   sync: false
